<ion-header>
  <div class="admin-header">
    <div class="title">MISSION CONTROL</div>
    <div class="logout" (click)="logout()">LOGOUT</div>
  </div>
</ion-header>

<ion-content [scrollY]="true" [fullscreen]="true">
  <!-- Professional Metrics Dashboard -->
  <div class="metrics-grid">
    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="bulb-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().totalIdeas | number) }}</h2>
        <p>Total Ideas</p>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().selected | number) }}</h2>
        <p>Selected Ideas</p>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="eye-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().reviewed | number) }}</h2>
        <p>Reviewed Ideas</p>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="time-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().received | number) }}</h2>
        <p>Received Ideas</p>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="hourglass-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().pendingPayment | number) }}</h2>
        <p>Pending Payment</p>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-icon">
        <ion-icon name="close-circle-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ isLoadingMetrics() ? '...' : (metrics().notSelected | number) }}</h2>
        <p>Not Selected</p>
      </div>
    </div>

    <div class="metric-card fund-card">
      <div class="metric-icon">
        <ion-icon name="cash-outline"></ion-icon>
      </div>
      <div class="metric-content">
        <h2>{{ fundTotal() | currency:'USD':'symbol':'1.0-0' }}</h2>
        <p>OnlyTips Fund</p>
      </div>
      <button class="btn-update-fund" (click)="updateFund()" aria-label="Update fund">
        <ion-icon name="create-outline"></ion-icon>
      </button>
    </div>
  </div>

  <div class="filter-bar">
    <ion-chip [class.active]="currentStatus() === 'RECEIVED'" (click)="onStatusChange('RECEIVED')">RECEIVED</ion-chip>
    <ion-chip [class.active]="currentStatus() === 'REVIEWED'" (click)="onStatusChange('REVIEWED')">REVIEWED</ion-chip>
    <ion-chip [class.active]="currentStatus() === 'SELECTED'" (click)="onStatusChange('SELECTED')">SELECTED</ion-chip>
    <ion-chip [class.active]="currentStatus() === 'NOT_SELECTED'" (click)="onStatusChange('NOT_SELECTED')">NOT SELECTED</ion-chip>
  </div>

  <div class="idea-grid">
    <div class="idea-item" *ngFor="let idea of ideas()" (click)="openDecisionMenu(idea)">
      <div class="info">
        <h3>{{ idea.title }}</h3>
        <p>{{ idea.description }}</p>
        <p>{{ idea.email }}</p>
      </div>
      <div class="status">{{ idea.status }}</div>
    </div>
  </div>

  <!-- Pagination Controls -->
  <div class="pagination-container" *ngIf="paginationInfo().totalPages > 0">
    <div class="pagination-info">
      <span>Page {{ currentPage() }} of {{ paginationInfo().totalPages }}</span>
      <span class="total-items">({{ paginationInfo().total }} total items)</span>
    </div>
    <div class="pagination-buttons">
      <ion-button 
        [disabled]="!paginationInfo().hasPrevious" 
        (click)="previousPage()" 
        class="btn-pagination btn-prev">
        <ion-icon name="chevron-back-outline"></ion-icon>
        PREVIOUS
      </ion-button>
      <ion-button 
        [disabled]="!paginationInfo().hasNext" 
        (click)="nextPage()" 
        class="btn-pagination btn-next">
        NEXT
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </ion-button>
    </div>
  </div>

</ion-content>